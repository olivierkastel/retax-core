{"version":3,"sources":["src/__tests__/retax-test.jsx"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","throw","result","done","then","apply","jest","disableAutomock","React","shallow","createMemoryHistory","Route","commonModule","clientModule","contextModuleFactory","lifecycleModuleFactory","MEDIATOR","InversifyKernelFacade","RetaxProvider","describe","counterReducer","state","action","type","retaxConfig","lifecycle","undefined","react","appendChild","router","static","store","reducers","counter","pit","history","location","createLocation","replace","inversifyKernelFacade","loadKernelModules","mediator","getService","run","app","expect","toEqual","wrapper","toBeTruthy"],"mappings":"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","file":"retax-test.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments)).next());\n    });\n};\njest.disableAutomock();\nimport * as React from 'react';\nimport { shallow } from 'enzyme';\nimport { createMemoryHistory, Route } from 'react-router';\nimport { commonModule, clientModule, contextModuleFactory, lifecycleModuleFactory, MEDIATOR } from '../inversify';\nimport { InversifyKernelFacade } from '../inversifyKernelFacade';\nimport { RetaxProvider } from '../components';\ndescribe('Retax Core', () => {\n    function counterReducer(state = 0, action) {\n        switch (action.type) {\n            case 'INC':\n                return state + 1;\n            default:\n                return state;\n        }\n    }\n    const retaxConfig = {\n        lifecycle: undefined,\n        react: {\n            appendChild: undefined,\n        },\n        router: {\n            static: (<Route path=\"/\">\n          <Route path=\"home\"/>\n          <Route path=\"about\"/>\n        </Route>),\n        },\n        store: {\n            reducers: {\n                counter: counterReducer,\n            },\n        },\n    };\n    pit('build a retax app', () => __awaiter(this, void 0, void 0, function* () {\n        // configure history\n        const history = createMemoryHistory();\n        const location = history.createLocation('/home');\n        history.replace(location);\n        // create IOC kernel\n        const inversifyKernelFacade = new InversifyKernelFacade();\n        inversifyKernelFacade.loadKernelModules([\n            commonModule,\n            clientModule,\n            contextModuleFactory({ history, retaxConfig }),\n            lifecycleModuleFactory(retaxConfig.lifecycle),\n        ]);\n        // build the app\n        const mediator = inversifyKernelFacade.getService(MEDIATOR);\n        const app = yield mediator.run(inversifyKernelFacade);\n        expect(app.type).toEqual(RetaxProvider);\n        const wrapper = shallow(app);\n        expect(wrapper).toBeTruthy();\n    }));\n});\n"]}
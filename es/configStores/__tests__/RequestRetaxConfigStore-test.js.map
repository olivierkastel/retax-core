{"version":3,"sources":["src/configStores/__tests__/RequestRetaxConfigStore-test.ts","src/configStores/__tests__/RequestRetaxConfigStore-test.js"],"names":["jest","unmock","configureStore","RequestRetaxConfigStore","describe","staticContext","request","req","header","fn","retaxConfig","router","static","myRoute","dynamicContext","dynamic","it","reduxStore","configStore","config","evaluatedConfig","evaluateConfig","expect","toEqual","toBeCalled","toBeCalledWith","undefined"],"mappings":"AAAAA,KAAKC,MAAL,CAAY,WAAZ;AACAD,KAAKC,MAAL,CAAY,OAAZ;AACAD,KAAKC,MAAL,CAAY,aAAZ;AACAD,KAAKC,MAAL,CAAY,kBAAZ;AACAD,KAAKC,MAAL,CAAY,4BAAZ;ACCA,ODCOC,cCDP,MDC2B,kBCD3B;AACA,ODCOC,uBCDP,MDCoC,4BCDpC;ADGAC,SAAS,yBAAT,EAAoC,YAAA;AAClC,QAAMC,gBAAgB;AACpBC,iBAAS;AACPC,iBAAK;AACHC,wBAAQR,KAAKS,EAAL;AADL;AADE,SADW;AAMpBC,qBAAa;AACXC,oBAAQ;AACNC,wBAAQ,EAAEC,SAAS,IAAX;AADF;AADG;AANO,KAAtB;AAaA,QAAMC,iBAAiB;AACrBR,iBAAS;AACPC,iBAAK;AACHC,wBAAQR,KAAKS,EAAL;AADL;AADE,SADY;AAMrBC,qBAAa;AACXC,oBAAQ;AACNI,yBAASf,KAAKS,EAAL;AADH;AADG;AANQ,KAAvB;AAaAO,OAAG,2CAAH,EAAgD,YAAA;AAC9C,YAAMC,aAAaf,kBAAnB;AACA,YAAMgB,cAAc,IAAIf,uBAAJ,CAAiCE,aAAjC,CAApB;AAEAa,oBAAYC,MAAZ,GAAqBd,cAAcK,WAAnC,CAJ8C,CAIE;AAEhD,YAAMU,kBAAkBF,YAAYG,cAAZ,CAA2BJ,UAA3B,CAAxB;AAEAK,eAAOF,eAAP,EAAwBG,OAAxB,CAAgC;AAC9BZ,oBAAQ;AACNC,wBAAQ,EAAEC,SAAS,IAAX;AADF;AADsB,SAAhC;AAKD,KAbD;AAeAG,OAAG,4CAAH,EAAiD,YAAA;AAC/C,YAAMC,aAAaf,kBAAnB;AACA,YAAMgB,cAAc,IAAIf,uBAAJ,CAAiCW,cAAjC,CAApB;AAEAI,oBAAYC,MAAZ,GAAqBL,eAAeJ,WAApC,CAJ+C,CAIE;AAEjD,YAAMU,kBAAkBF,YAAYG,cAAZ,CAA2BJ,UAA3B,CAAxB;AAEAK,eAAOR,eAAeR,OAAf,CAAuBC,GAAvB,CAA2BC,MAAlC,EAA0CgB,UAA1C;AAEAF,eAAOR,eAAeJ,WAAf,CAA2BC,MAA3B,CAAkCI,OAAzC,EAAkDU,cAAlD,CACER,UADF,EAEES,SAFF;AAKAJ,eAAOF,eAAP,EAAwBG,OAAxB,CAAgC;AAC9BZ,oBAAQ;AACNI,yBAASD,eAAeJ,WAAf,CAA2BC,MAA3B,CAAkCI,OADrC;AAENH,wBAAQc;AAFF;AADsB,SAAhC;AAMD,KArBD;AAsBD,CAhED","file":"RequestRetaxConfigStore-test.js","sourcesContent":["jest.unmock('inversify');\njest.unmock('redux');\njest.unmock('retax-utils');\njest.unmock('redux-mock-store');\njest.unmock('../RequestRetaxConfigStore');\n\nimport configureStore from 'redux-mock-store';\nimport RequestRetaxConfigStore from '../RequestRetaxConfigStore';\n\ndescribe('RequestRetaxConfigStore', () => {\n  const staticContext = {\n    request: {\n      req: {\n        header: jest.fn(),\n      },\n    },\n    retaxConfig: {\n      router: {\n        static: { myRoute: true },\n      },\n    },\n  };\n\n  const dynamicContext = {\n    request: {\n      req: {\n        header: jest.fn(),\n      },\n    },\n    retaxConfig: {\n      router: {\n        dynamic: jest.fn(),\n      },\n    },\n  };\n\n  it('evaluates the config with a static router', () => {\n    const reduxStore = configureStore()();\n    const configStore = new RequestRetaxConfigStore(<any>staticContext);\n\n    configStore.config = staticContext.retaxConfig; // simulate the behavior of RetaxConfigStore\n\n    const evaluatedConfig = configStore.evaluateConfig(reduxStore);\n\n    expect(evaluatedConfig).toEqual({\n      router: {\n        static: { myRoute: true },\n      },\n    });\n  });\n\n  it('evaluates the config with a dynamic router', () => {\n    const reduxStore = configureStore()();\n    const configStore = new RequestRetaxConfigStore(<any>dynamicContext);\n\n    configStore.config = dynamicContext.retaxConfig; // simulate the behavior of RetaxConfigStore\n\n    const evaluatedConfig = configStore.evaluateConfig(reduxStore);\n\n    expect(dynamicContext.request.req.header).toBeCalled();\n\n    expect(dynamicContext.retaxConfig.router.dynamic).toBeCalledWith(\n      reduxStore,\n      undefined\n    );\n\n    expect(evaluatedConfig).toEqual({\n      router: {\n        dynamic: dynamicContext.retaxConfig.router.dynamic,\n        static: undefined,\n      },\n    });\n  });\n});\n","jest.unmock('inversify');\njest.unmock('redux');\njest.unmock('retax-utils');\njest.unmock('redux-mock-store');\njest.unmock('../RequestRetaxConfigStore');\nimport configureStore from 'redux-mock-store';\nimport RequestRetaxConfigStore from '../RequestRetaxConfigStore';\ndescribe('RequestRetaxConfigStore', () => {\n    const staticContext = {\n        request: {\n            req: {\n                header: jest.fn(),\n            },\n        },\n        retaxConfig: {\n            router: {\n                static: { myRoute: true },\n            },\n        },\n    };\n    const dynamicContext = {\n        request: {\n            req: {\n                header: jest.fn(),\n            },\n        },\n        retaxConfig: {\n            router: {\n                dynamic: jest.fn(),\n            },\n        },\n    };\n    it('evaluates the config with a static router', () => {\n        const reduxStore = configureStore()();\n        const configStore = new RequestRetaxConfigStore(staticContext);\n        configStore.config = staticContext.retaxConfig; // simulate the behavior of RetaxConfigStore\n        const evaluatedConfig = configStore.evaluateConfig(reduxStore);\n        expect(evaluatedConfig).toEqual({\n            router: {\n                static: { myRoute: true },\n            },\n        });\n    });\n    it('evaluates the config with a dynamic router', () => {\n        const reduxStore = configureStore()();\n        const configStore = new RequestRetaxConfigStore(dynamicContext);\n        configStore.config = dynamicContext.retaxConfig; // simulate the behavior of RetaxConfigStore\n        const evaluatedConfig = configStore.evaluateConfig(reduxStore);\n        expect(dynamicContext.request.req.header).toBeCalled();\n        expect(dynamicContext.retaxConfig.router.dynamic).toBeCalledWith(reduxStore, undefined);\n        expect(evaluatedConfig).toEqual({\n            router: {\n                dynamic: dynamicContext.retaxConfig.router.dynamic,\n                static: undefined,\n            },\n        });\n    });\n});\n"]}